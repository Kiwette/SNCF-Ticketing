<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditions Générales d'Utilisation - SNCF Ticketing</title>
    <meta name="description" content="Conditions Générales d'Utilisation de l'application SNCF Ticketing, expliquant les droits et responsabilités des utilisateurs.">
    <link rel="stylesheet" href="/CSS/cgu.css" />
    <script src="/JS/cgu.js"></script>
    <script>
        function showAlert() {
            alert("Bienvenue sur la page des CGU de SNCF Ticketing!");
        }

        window.onload = function() {
            showAlert();
            fetchCGU(); // Appeler la fonction pour charger les CGU dynamiquement
        };

        // Fonction pour récupérer les CGU via l'API
        function fetchCGU() {
            const cguContent = document.getElementById('cgu-content');
            cguContent.innerHTML = "<p>Chargement des conditions d'utilisation...</p>"; // Message pendant le chargement

            fetch('/api/cgu')
                .then(response => response.json())
                .then(data => {
                    cguContent.innerHTML = `
                        <h3 style="color: #82BE00;">1. Introduction</h3>
                        <p>${data.introduction}</p>
                        
                        <h3 style="color: #82BE00;">2. Accès à l'application</h3>
                        <p>${data.acces}</p>

                        <h3 style="color: #82BE00;">3. Utilisation des Services</h3>
                        <p>${data.services}</p>

                        <h3 style="color: #82BE00;">4. Propriété Intellectuelle</h3>
                        <p>${data.propriete}</p>

                        <h3 style="color: #82BE00;">5. Responsabilités</h3>
                        <p>${data.responsabilites}</p>

                        <h3 style="color: #82BE00;">6. Modifications des Conditions</h3>
                        <p>${data.modifications}</p>

                        <h3 style="color: #82BE00;">7. Contact</h3>
                        <p>${data.contact}</p>
                    `;
                })
                .catch(error => {
                    cguContent.innerHTML = "<p>Erreur lors du chargement des CGU. Veuillez réessayer plus tard.</p>";
                    console.error('Erreur lors de la récupération des CGU:', error);
                });
        }
    </script>
</head>

<body>
    <section>
        <header class="header">
            <img class="logo_sncf" src="/Images/logo.news.png" alt="logo SNCF Ticketing"/>
            <div class="presentation">
                <h1 class="titre_principal">SNCF TICKETING</h1>
            </div>
            <nav class="nav">
                <li><a href="/HTML/connexion.html">Se connecter</a></li>
                <li><a href="/HTML/page_creation_profil.html">Créer un compte</a></li>
            </nav>
        </header>

        <!-- PREMIER BLOC -->
        <div class="BlocGénéral">
            <div class="Bienvenue">
                <h2 class="titre2">
                    <span style="color: #00205b;">Conditions Générales d'Utilisation </span>
                    <span style="color:#82BE00;"> SNCF Ticketing </span>
                </h2>
            </div>
            <div class="PremierBloc" id="cgu-content">
                <!-- Les CGU seront chargées ici via JavaScript -->
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="footer">
            <img class="logo_sncf2" src="/Images/logo-removebg-preview.png" alt="logo SNCF"/>
            <div class="contenu_footer">
                <h3>SNCF Ticketing |
                    <a href="/version.html" class="footer-link">Version 1.1</a> |
                    <a href="/cgu.html" class="footer-link">CGU</a> |
                    <a href="/mentions-legales.html" class="footer-link">Mentions légales</a> |
                    <a href="/HTML/page_contacts.html" class="footer-link">Contactez-nous</a>
                    e-SNCF ©2024
                </h3>
            </div>
        </footer>
    </section>
</body>
</html>
